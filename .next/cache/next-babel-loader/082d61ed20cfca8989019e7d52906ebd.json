{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useRouter } from 'next/router';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Navigation from '../components/Navigation';\nimport Form from '../components/Form';\nimport { authSelectors } from '../store/selectors';\nimport { authActions } from '../store/actions';\n\nvar Login = function Login() {\n  var router = useRouter();\n  var dispatch = useDispatch();\n\n  var _React$useState = React.useState({}),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      values = _React$useState2[0],\n      setValues = _React$useState2[1];\n\n  var authToken = useSelector(authSelectors.selectAuthToken);\n  var authError = useSelector(authSelectors.selectError);\n  var email = values.email,\n      password = values.password;\n  var onLogin = React.useCallback(function () {\n    dispatch(authActions.login({\n      email: email,\n      password: password\n    }));\n  }, [values, dispatch, authActions]);\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    onLogin();\n  };\n\n  React.useEffect(function () {\n    if (authToken) router.push('/');\n\n    if (authError) {\n      Object.keys(authError).map(function (key) {\n        return authError[key] && toast(authError[key], {\n          type: 'error'\n        });\n      });\n      dispatch(authActions.clearError());\n    }\n  }, [authToken, authError]);\n  return __jsx(React.Fragment, null, __jsx(ToastContainer, null), __jsx(Navigation, {\n    Title: \"Login\",\n    Links: [{\n      title: 'Home',\n      ref: '/'\n    }]\n  }), __jsx(Form, {\n    Title: \"Account\",\n    ParentState: [values, setValues],\n    SubmitFunction: handleSubmit,\n    Inputs: [{\n      label: 'Email',\n      id: 'email',\n      type: 'email'\n    }, {\n      label: 'Password',\n      id: 'password',\n      type: 'password'\n    }],\n    LowerText: {\n      info: \"Don't have an account?\",\n      link: {\n        name: 'Signup',\n        ref: '/signup'\n      }\n    }\n  }));\n};\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}