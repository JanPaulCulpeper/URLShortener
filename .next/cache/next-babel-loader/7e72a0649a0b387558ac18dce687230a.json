{
  "ast": null,
  "code": "import { authTypes } from './types';\nimport URL from '../../constants';\nconst {\n  AUTH_ACTION_FAILED,\n  AUTH,\n  AUTH_LOADING\n} = authTypes;\nexport const verifyAuth = () => async dispatch => {\n  dispatch({\n    type: AUTH_LOADING\n  });\n\n  try {\n    const res = await fetch(`${URL}api/auth/verify`);\n    dispatch({\n      type: AUTH,\n      payload: (await res.json()).user\n    });\n  } catch (err) {\n    dispatch({\n      type: AUTH_ACTION_FAILED,\n      payload: err\n    });\n  }\n};\nexport const login = credentials => async dispatch => {\n  dispatch({\n    type: AUTH_LOADING\n  });\n\n  try {\n    const res = await fetch(`${URL}api/auth/login`, {\n      method: 'POST',\n      body: JSON.stringify(credentials),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await res.json();\n\n    if (data.errors) {\n      dispatch({\n        type: AUTH_ACTION_FAILED,\n        payload: data.errors\n      });\n    }\n\n    if (data.user) {\n      dispatch({\n        type: AUTH,\n        payload: data.user\n      });\n    }\n  } catch (err) {\n    dispatch({\n      type: AUTH_ACTION_FAILED,\n      payload: err\n    });\n  }\n}; // export const logouot = () => (dispatch, getState) => {};\n\nexport const signup = ({\n  email,\n  password,\n  userName\n}) => async dispatch => {\n  dispatch({\n    type: AUTH_LOADING\n  });\n\n  try {\n    const res = await fetch(`${URL}api/auth/signup`, {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password,\n        userName\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await res.json();\n\n    if (data.errors) {\n      dispatch({\n        type: AUTH_ACTION_FAILED,\n        payload: data.errors\n      });\n    }\n\n    if (data.user) {\n      dispatch({\n        type: AUTH,\n        payload: data.user\n      });\n    }\n  } catch (err) {\n    dispatch({\n      type: AUTH_ACTION_FAILED,\n      payload: err\n    });\n  }\n};\nexport const logout = () => async dispatch => {\n  try {\n    const res = await fetch(`${URL}api/auth/logout`);\n    const data = await res.json();\n\n    if (data.errors) {\n      dispatch({\n        type: AUTH_ACTION_FAILED,\n        payload: data.errors\n      });\n    } else {\n      dispatch({\n        type: AUTH,\n        payload: data.user\n      });\n    }\n  } catch (err) {\n    dispatch({\n      type: AUTH_ACTION_FAILED,\n      payload: err\n    });\n  }\n};\nexport const clearError = () => dispatch => {\n  dispatch({\n    type: AUTH_ACTION_FAILED,\n    payload: null\n  });\n};",
  "map": null,
  "metadata": {},
  "sourceType": "module"
}
