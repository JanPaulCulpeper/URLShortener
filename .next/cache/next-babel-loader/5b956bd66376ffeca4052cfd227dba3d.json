{"ast":null,"code":"import { urlTypes } from './types';\nimport URL from '../../constants';\nconst {\n  SHORTEN_ERROR,\n  SHORTEN_LOADING,\n  SHORTEN_URL_SUCCESS,\n  FETCH_URLS_SUCCESS,\n  DELETE_URL_SUCCESS\n} = urlTypes;\nexport const shorten = ({\n  url,\n  custom\n}) => async dispatch => {\n  dispatch({\n    type: SHORTEN_LOADING\n  });\n\n  try {\n    const res = await fetch(`${URL}api/url/create`, {\n      method: 'POST',\n      body: JSON.stringify({\n        url,\n        custom\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await res.json();\n    if (res.status === 201) dispatch({\n      type: SHORTEN_URL_SUCCESS,\n      payload: data\n    });else {\n      dispatch({\n        type: SHORTEN_ERROR,\n        payload: data\n      });\n    }\n  } catch (err) {\n    dispatch({\n      type: SHORTEN_ERROR,\n      payload: err\n    });\n  }\n};\nexport const fetchUrls = () => async dispatch => {\n  dispatch({\n    type: SHORTEN_LOADING\n  });\n\n  try {\n    const res = await fetch(`${URL}api/url/all`);\n    const data = await res.json();\n    dispatch({\n      type: FETCH_URLS_SUCCESS,\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: SHORTEN_ERROR,\n      payload: err\n    });\n  }\n};\nexport const deleteUrl = key => async dispatch => {\n  dispatch({\n    type: SHORTEN_LOADING\n  });\n\n  try {\n    const res = await fetch(`${URL}api/url/delete`, {\n      method: 'POST',\n      body: JSON.stringify({\n        key\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await res.json();\n    dispatch({\n      type: DELETE_URL_SUCCESS,\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: SHORTEN_ERROR,\n      payload: err\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"module"}